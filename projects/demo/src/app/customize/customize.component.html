<h2>Customize Keyboard Shortcuts</h2>
<p>This page lets you record custom keyboard shortcuts for different actions.</p>

<p><strong>Last Action:</strong> {{ actionService.lastAction() }}</p>
<small>Total Actions: {{ actionService.count() }}</small>

@if (recordingFor) {
  <section class="recording-status">
    <p><strong>ðŸ”´ Recording shortcut for:</strong> {{ recordingFor.name }}</p>
    <p><em>Press your desired key combination now...</em></p>
    <button (click)="cancelRecording()">Cancel</button>
  </section>
}

<section class="actions-list">
  <h3>Available Actions</h3>
  @for (action of actions; track action.id) {
    <article class="action-item">
      <div class="action-info">
        <h4>{{ action.name }}</h4>
        <p>{{ action.description }}</p>
        <div class="current-shortcut">
          <strong>Shortcut:</strong> 
          <kbd>{{ formatKeys(action.keys) }}</kbd>
        </div>
      </div>
      <div class="action-controls">
        <button (click)="recordShortcut(action)" [disabled]="!!recordingFor">
          {{ recordingFor?.id === action.id ? 'Recording...' : 'Record New' }}
        </button>
        <button (click)="triggerAction(action)">Test Action</button>
      </div>
    </article>
  }
</section>

<section class="instructions">
  <h3>How It Works</h3>
  <ol>
    <li>Click "Record New" next to any action</li>
    <li>Press your desired key combination (e.g., Ctrl+K, F2, Alt+S)</li>
    <li>The shortcut is immediately active and ready to use</li>
    <li>Try "Test Action" to trigger actions manually</li>
  </ol>
  
  <p><strong>Tip:</strong> Try combinations like Ctrl+1, Alt+H, or F5 for best results.</p>
</section>